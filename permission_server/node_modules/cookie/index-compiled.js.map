{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\n/// Serialize the a name value pair into a cookie string suitable for\n/// http headers. An optional options object specified cookie parameters\n///\n/// serialize('foo', 'bar', { httpOnly: true })\n///   => \"foo=bar; httpOnly\"\n///\n/// @param {String} name\n/// @param {String} val\n/// @param {Object} options\n/// @return {String}\nvar serialize = function(name, val, opt){\n    opt = opt || {};\n    var enc = opt.encode || encode;\n    var pairs = [name + '=' + enc(val)];\n\n    if (null != opt.maxAge) {\n        var maxAge = opt.maxAge - 0;\n        if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n        pairs.push('Max-Age=' + maxAge);\n    }\n\n    if (opt.domain) pairs.push('Domain=' + opt.domain);\n    if (opt.path) pairs.push('Path=' + opt.path);\n    if (opt.expires) pairs.push('Expires=' + opt.expires.toUTCString());\n    if (opt.httpOnly) pairs.push('HttpOnly');\n    if (opt.secure) pairs.push('Secure');\n\n    return pairs.join('; ');\n};\n\n/// Parse the given cookie header string into an object\n/// The object has the various cookies as keys(names) => values\n/// @param {String} str\n/// @return {Object}\nvar parse = function(str, opt) {\n    opt = opt || {};\n    var obj = {}\n    var pairs = str.split(/; */);\n    var dec = opt.decode || decode;\n\n    pairs.forEach(function(pair) {\n        var eq_idx = pair.indexOf('=')\n\n        // skip things that don't look like key=value\n        if (eq_idx < 0) {\n            return;\n        }\n\n        var key = pair.substr(0, eq_idx).trim()\n        var val = pair.substr(++eq_idx, pair.length).trim();\n\n        // quoted values\n        if ('\"' == val[0]) {\n            val = val.slice(1, -1);\n        }\n\n        // only assign once\n        if (undefined == obj[key]) {\n            try {\n                obj[key] = dec(val);\n            } catch (e) {\n                obj[key] = val;\n            }\n        }\n    });\n\n    return obj;\n};\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\n\nmodule.exports.serialize = serialize;\nmodule.exports.parse = parse;\n"]}