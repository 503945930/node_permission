{"version":3,"sources":["examples.test.js"],"names":[],"mappings":"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","file":"examples.test-compiled.js","sourcesContent":["var assert = require('assert');\nvar Kareem = require('../');\n\n/* Much like [hooks](https://npmjs.org/package/hooks), kareem lets you define\n * pre and post hooks: pre hooks are called before a given function executes.\n * Unlike hooks, kareem stores hooks and other internal state in a separate\n * object, rather than relying on inheritance. Furthermore, kareem exposes\n * an `execPre()` function that allows you to execute your pre hooks when\n * appropriate, giving you more fine-grained control over your function hooks.\n */\ndescribe('pre hooks', function() {\n  var hooks;\n\n  beforeEach(function() {\n    hooks = new Kareem();\n  });\n\n  it('runs without any hooks specified', function(done) {\n    hooks.execPre('cook', null, function() {\n      done();\n    });\n  });\n\n  /* pre hook functions take one parameter, a \"done\" function that you execute\n   * when your pre hook is finished.\n   */\n  it('runs basic serial pre hooks', function(done) {\n    var count = 0;\n\n    hooks.pre('cook', function(done) {\n      ++count;\n      done();\n    });\n\n    hooks.execPre('cook', null, function() {\n      assert.equal(1, count);\n      done();\n    });\n  });\n\n  it('can run multipe pre hooks', function(done) {\n    var count1 = 0;\n    var count2 = 0;\n\n    hooks.pre('cook', function(done) {\n      ++count1;\n      done();\n    });\n\n    hooks.pre('cook', function(done) {\n      ++count2;\n      done();\n    });\n\n    hooks.execPre('cook', null, function() {\n      assert.equal(1, count1);\n      assert.equal(1, count2);\n      done();\n    });\n  });\n\n  /* If your pre hook function takes no parameters, its assumed to be\n   * fully synchronous.\n   */\n  it('can run fully synchronous pre hooks', function(done) {\n    var count1 = 0;\n    var count2 = 0;\n\n    hooks.pre('cook', function() {\n      ++count1;\n    });\n\n    hooks.pre('cook', function() {\n      ++count2;\n    });\n\n    hooks.execPre('cook', null, function(error) {\n      assert.equal(null, error);\n      assert.equal(1, count1);\n      assert.equal(1, count2);\n      done();\n    });\n  });\n\n  /* Pre save hook functions are bound to the second parameter to `execPre()`\n   */\n  it('properly attaches context to pre hooks', function(done) {\n    hooks.pre('cook', function(done) {\n      this.bacon = 3;\n      done();\n    });\n\n    hooks.pre('cook', function(done) {\n      this.eggs = 4;\n      done();\n    });\n\n    var obj = { bacon: 0, eggs: 0 };\n\n    // In the pre hooks, `this` will refer to `obj`\n    hooks.execPre('cook', obj, function(error) {\n      assert.equal(null, error);\n      assert.equal(3, obj.bacon);\n      assert.equal(4, obj.eggs);\n      done();\n    });\n  });\n\n  /* Like the hooks module, you can declare \"async\" pre hooks - these take two\n   * parameters, the functions `next()` and `done()`. `next()` passes control to\n   * the next pre hook, but the underlying function won't be called until all\n   * async pre hooks have called `done()`.\n   */\n  it('can execute parallel (async) pre hooks', function(done) {\n    hooks.pre('cook', true, function(next, done) {\n      this.bacon = 3;\n      next();\n      setTimeout(function() {\n        done();\n      }, 5);\n    });\n\n    hooks.pre('cook', true, function(next, done) {\n      next();\n      var _this = this;\n      setTimeout(function() {\n        _this.eggs = 4;\n        done();\n      }, 10);\n    });\n\n    hooks.pre('cook', function(next) {\n      this.waffles = false;\n      next();\n    });\n\n    var obj = { bacon: 0, eggs: 0 };\n\n    hooks.execPre('cook', obj, function() {\n      assert.equal(3, obj.bacon);\n      assert.equal(4, obj.eggs);\n      assert.equal(false, obj.waffles);\n      done();\n    });\n  });\n});\n\ndescribe('post hooks', function() {\n  var hooks;\n\n  beforeEach(function() {\n    hooks = new Kareem();\n  });\n\n  it('runs without any hooks specified', function(done) {\n    hooks.execPost('cook', null, [1], function(error, eggs) {\n      assert.ifError(error);\n      assert.equal(1, eggs);\n      done();\n    });\n  });\n\n  it('executes with parameters passed in', function(done) {\n    hooks.post('cook', function(eggs, bacon, callback) {\n      assert.equal(1, eggs);\n      assert.equal(2, bacon);\n      callback();\n    });\n\n    hooks.execPost('cook', null, [1, 2], function(error, eggs, bacon) {\n      assert.ifError(error);\n      assert.equal(1, eggs);\n      assert.equal(2, bacon);\n      done();\n    });\n  });\n\n  it('can use synchronous post hooks', function(done) {\n    var execed = {};\n\n    hooks.post('cook', function(eggs, bacon) {\n      execed.first = true;\n      assert.equal(1, eggs);\n      assert.equal(2, bacon);\n    });\n\n    hooks.post('cook', function(eggs, bacon, callback) {\n      execed.second = true;\n      assert.equal(1, eggs);\n      assert.equal(2, bacon);\n      callback();\n    });\n\n    hooks.execPost('cook', null, [1, 2], function(error, eggs, bacon) {\n      assert.ifError(error);\n      assert.equal(2, Object.keys(execed).length);\n      assert.ok(execed.first);\n      assert.ok(execed.second);\n      assert.equal(1, eggs);\n      assert.equal(2, bacon);\n      done();\n    });\n  });\n});\n\ndescribe('wrap()', function() {\n  var hooks;\n\n  beforeEach(function() {\n    hooks = new Kareem();\n  });\n\n  it('wraps pre and post calls into one call', function(done) {\n    hooks.pre('cook', true, function(next, done) {\n      this.bacon = 3;\n      next();\n      setTimeout(function() {\n        done();\n      }, 5);\n    });\n\n    hooks.pre('cook', true, function(next, done) {\n      next();\n      var _this = this;\n      setTimeout(function() {\n        _this.eggs = 4;\n        done();\n      }, 10);\n    });\n\n    hooks.pre('cook', function(next) {\n      this.waffles = false;\n      next();\n    });\n\n    hooks.post('cook', function(obj) {\n      obj.tofu = 'no';\n    });\n\n    var obj = { bacon: 0, eggs: 0 };\n\n    var args = [obj];\n    args.push(function(error, result) {\n      assert.ifError(error);\n      assert.equal(null, error);\n      assert.equal(3, obj.bacon);\n      assert.equal(4, obj.eggs);\n      assert.equal(false, obj.waffles);\n      assert.equal('no', obj.tofu);\n\n      assert.equal(obj, result);\n      done();\n    });\n\n    hooks.wrap(\n      'cook',\n      function(o, callback) {\n        assert.equal(3, obj.bacon);\n        assert.equal(4, obj.eggs);\n        assert.equal(false, obj.waffles);\n        assert.equal(undefined, obj.tofu);\n        callback(null, o);\n      },\n      obj,\n      args);\n  });\n});\n\ndescribe('createWrapper()', function() {\n  var hooks;\n\n  beforeEach(function() {\n    hooks = new Kareem();\n  });\n\n  it('wraps wrap() into a callable function', function(done) {\n    hooks.pre('cook', true, function(next, done) {\n      this.bacon = 3;\n      next();\n      setTimeout(function() {\n        done();\n      }, 5);\n    });\n\n    hooks.pre('cook', true, function(next, done) {\n      next();\n      var _this = this;\n      setTimeout(function() {\n        _this.eggs = 4;\n        done();\n      }, 10);\n    });\n\n    hooks.pre('cook', function(next) {\n      this.waffles = false;\n      next();\n    });\n\n    hooks.post('cook', function(obj) {\n      obj.tofu = 'no';\n    });\n\n    var obj = { bacon: 0, eggs: 0 };\n\n    var cook = hooks.createWrapper(\n      'cook',\n      function(o, callback) {\n        assert.equal(3, obj.bacon);\n        assert.equal(4, obj.eggs);\n        assert.equal(false, obj.waffles);\n        assert.equal(undefined, obj.tofu);\n        callback(null, o);\n      },\n      obj);\n\n    cook(obj, function(error, result) {\n      assert.ifError(error);\n      assert.equal(3, obj.bacon);\n      assert.equal(4, obj.eggs);\n      assert.equal(false, obj.waffles);\n      assert.equal('no', obj.tofu);\n\n      assert.equal(obj, result);\n      done();\n    });\n  });\n});\n\ndescribe('clone()', function() {\n  it('clones a Kareem object', function() {\n    var k1 = new Kareem();\n    k1.pre('cook', function() {});\n    k1.post('cook', function() {});\n\n    var k2 = k1.clone();\n    assert.deepEqual(['cook'], Object.keys(k2._pres));\n    assert.deepEqual(['cook'], Object.keys(k2._posts));\n  });\n});\n"]}