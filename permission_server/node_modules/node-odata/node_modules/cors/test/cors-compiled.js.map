{"version":3,"sources":["cors.js"],"names":[],"mappings":"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","file":"cors-compiled.js","sourcesContent":["/*jslint indent: 2*/\n/*global require: true, module: true, describe: true, it: true*/\n\n(function () {\n\n  'use strict';\n\n  var should = require('should'),\n    cors = require('../lib'),\n    fakeRequest = function (headers) {\n      return {\n        headers: headers || {\n          'origin': 'request.com',\n          'access-control-request-headers': 'requestedHeader1,requestedHeader2'\n        },\n        pause: function () {\n          // do nothing\n          return;\n        },\n        resume: function () {\n          // do nothing\n          return;\n        }\n      };\n    },\n    fakeResponse = function () {\n      var headers = {};\n      return {\n        allHeaders: function () {\n          return headers;\n        },\n        getHeader: function (key) {\n          return headers[key];\n        },\n        setHeader: function (key, value) {\n          headers[key] = value;\n          return;\n        }\n      };\n    };\n\n  describe('cors', function () {\n    it('passes control to next middleware', function (done) {\n      // arrange\n      var req, res, next;\n      req = fakeRequest();\n      res = fakeResponse();\n      next = function () {\n        done();\n      };\n\n      // act\n      cors()(req, res, next);\n    });\n\n    it('shortcircuits preflight requests', function (done) {\n      // arrange\n      var req, res, next;\n      req = fakeRequest();\n      req.method = 'OPTIONS';\n      res = fakeResponse();\n      res.end = function () {\n        // assert\n        res.statusCode.should.equal(204);\n        done();\n      };\n      next = function () {\n        // assert\n        done('should not be called');\n      };\n\n      // act\n      cors()(req, res, next);\n    });\n\n    it('normalizes method names', function (done) {\n      // arrange\n      var req, res, next;\n      req = fakeRequest();\n      req.method = 'options';\n      res = fakeResponse();\n      res.end = function () {\n        // assert\n        res.statusCode.should.equal(204);\n        done();\n      };\n      next = function () {\n        // assert\n        done('should not be called');\n      };\n\n      // act\n      cors()(req, res, next);\n    });\n\n    it('no options enables default CORS to all origins', function (done) {\n      // arrange\n      var req, res, next;\n      req = fakeRequest();\n      res = fakeResponse();\n      next = function () {\n        // assert\n        res.getHeader('Access-Control-Allow-Origin').should.equal('*');\n        should.not.exist(res.getHeader('Access-Control-Allow-Methods'));\n        done();\n      };\n\n      // act\n      cors()(req, res, next);\n    });\n\n    it('OPTION call with no options enables default CORS to all origins and methods', function (done) {\n      // arrange\n      var req, res, next;\n      req = fakeRequest();\n      req.method = 'OPTIONS';\n      res = fakeResponse();\n      res.end = function () {\n        // assert\n        res.statusCode.should.equal(204);\n        done();\n      };\n      next = function () {\n        // assert\n        res.getHeader('Access-Control-Allow-Origin').should.equal('*');\n        res.getHeader('Access-Control-Allow-Methods').should.equal('GET,PUT,PATCH,POST,DELETE');\n        done();\n      };\n\n      // act\n      cors()(req, res, next);\n    });\n\n    describe('passing static options', function () {\n      it('overrides defaults', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          origin: 'example.com',\n          methods: ['FOO', 'bar'],\n          headers: ['FIZZ', 'buzz'],\n          credentials: true,\n          maxAge: 123\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.statusCode.should.equal(204);\n          done();\n        };\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Origin').should.equal('example.com');\n          res.getHeader('Access-Control-Allow-Methods').should.equal('FOO,bar');\n          res.getHeader('Access-Control-Allow-Headers').should.equal('FIZZ,buzz');\n          res.getHeader('Access-Control-Allow-Credentials').should.equal('true');\n          res.getHeader('Access-Control-Allow-Max-Age').should.equal('123');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('origin of false disables cors', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          origin: false,\n          methods: ['FOO', 'bar'],\n          headers: ['FIZZ', 'buzz'],\n          credentials: true,\n          maxAge: 123\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          should.not.exist(res.getHeader('Access-Control-Allow-Origin'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Methods'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Headers'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Credentials'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Max-Age'));\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('can override origin', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          origin: 'example.com'\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Origin').should.equal('example.com');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('origin defaults to *', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Origin').should.equal('*');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('specifying true for origin reflects requesting origin', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          origin: true\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Origin').should.equal('request.com');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('should allow origin when callback returns true', function (done) {\n        var req, res, next, options;\n        options = {\n          origin: function (sentOrigin, cb) {\n            sentOrigin.should.equal('request.com');\n            cb(null, true);\n          }\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          res.getHeader('Access-Control-Allow-Origin').should.equal('request.com');\n          done();\n        };\n\n        cors(options)(req, res, next);\n      });\n\n      it('should not allow origin when callback returns false', function (done) {\n        var req, res, next, options;\n        options = {\n          origin: function (sentOrigin, cb) {\n            sentOrigin.should.equal('request.com');\n            cb(null, false);\n          }\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          should.not.exist(res.getHeader('Access-Control-Allow-Origin'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Methods'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Headers'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Credentials'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Max-Age'));\n          done();\n        };\n\n        cors(options)(req, res, next);\n      });\n\n      it('should not override options.origin callback', function (done) {\n        var req, res, next, options;\n        options = {\n          origin: function (sentOrigin, cb) {\n            var isValid = sentOrigin === 'request.com';\n            cb(null, isValid);\n          }\n        };\n\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          res.getHeader('Access-Control-Allow-Origin').should.equal('request.com');\n        };\n\n        cors(options)(req, res, next);\n\n        req = fakeRequest({\n          'origin': 'invalid-request.com'\n        });\n        res = fakeResponse();\n\n        next = function () {\n          should.not.exist(res.getHeader('Access-Control-Allow-Origin'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Methods'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Headers'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Credentials'));\n          should.not.exist(res.getHeader('Access-Control-Allow-Max-Age'));\n          done();\n        };\n\n        cors(options)(req, res, next);\n      });\n\n\n      it('can override methods', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          methods: ['method1', 'method2']\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.statusCode.should.equal(204);\n          done();\n        };\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Methods').should.equal('method1,method2');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('methods defaults to GET, PUT, PATCH, POST, DELETE', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.statusCode.should.equal(204);\n          done();\n        };\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Methods').should.equal('GET,PUT,PATCH,POST,DELETE');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('can specify allowed headers', function (done) {\n        // arrange\n        var req, res, options;\n        options = {\n          allowedHeaders: ['header1', 'header2']\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Headers').should.equal('header1,header2');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, null);\n      });\n\n      it('specifying an empty list or string of allowed headers will result in no response header for allowed headers', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n          allowedHeaders: []\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          should.not.exist(res.getHeader('Access-Control-Allow-Headers'));\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('if no allowed headers are specified, defaults to requested allowed headers', function (done) {\n        // arrange\n        var req, res, options;\n        options = {\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Headers').should.equal('requestedHeader1,requestedHeader2');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, null);\n      });\n\n      it('can specify exposed headers', function (done) {\n        // arrange\n        var req, res, options, next;\n        options = {\n          exposedHeaders: ['custom-header1', 'custom-header2']\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Expose-Headers').should.equal('custom-header1,custom-header2');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('includes credentials if explicitly enabled', function (done) {\n        // arrange\n        var req, res, options;\n        options = {\n          credentials: true\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Credentials').should.equal('true');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, null);\n      });\n\n      it('does not includes credentials unless explicitly enabled', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          should.not.exist(res.getHeader('Access-Control-Allow-Credentials'));\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n\n      it('includes maxAge when specified', function (done) {\n        // arrange\n        var req, res, options;\n        options = {\n          maxAge: 456\n        };\n        req = fakeRequest();\n        req.method = 'OPTIONS';\n        res = fakeResponse();\n        res.end = function () {\n          // assert\n          res.getHeader('Access-Control-Max-Age').should.equal('456');\n          done();\n        };\n\n        // act\n        cors(options)(req, res, null);\n      });\n\n      it('does not includes maxAge unless specified', function (done) {\n        // arrange\n        var req, res, next, options;\n        options = {\n        };\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          should.not.exist(res.getHeader('Access-Control-Allow-Max-Age'));\n          done();\n        };\n\n        // act\n        cors(options)(req, res, next);\n      });\n    });\n\n    describe('passing a function to build options', function () {\n      it('handles options specified via callback', function (done) {\n        // arrange\n        var req, res, next, delegate;\n        /*jslint unparam: true*/ // `req` is part of the signature, but not used in this route\n        delegate = function (req, cb) {\n          cb(null, {\n            origin: 'delegate.com'\n          });\n        };\n        /*jslint unparam: false*/\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function () {\n          // assert\n          res.getHeader('Access-Control-Allow-Origin').should.equal('delegate.com');\n          done();\n        };\n\n        // act\n        cors(delegate)(req, res, next);\n      });\n\n      it('handles error specified via callback', function (done) {\n        // arrange\n        var req, res, next, delegate;\n        /*jslint unparam: true*/ // `req` is part of the signature, but not used in this route\n        delegate = function (req, cb) {\n          cb('some error');\n        };\n        /*jslint unparam: false*/\n        req = fakeRequest();\n        res = fakeResponse();\n        next = function (err) {\n          // assert\n          err.should.equal('some error');\n          done();\n        };\n\n        // act\n        cors(delegate)(req, res, next);\n      });\n    });\n  });\n\n}());\n\n"]}