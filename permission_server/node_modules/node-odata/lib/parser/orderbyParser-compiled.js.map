{"version":3,"sources":["orderbyParser.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE;AAC3C,OAAK,EAAE,IAAI;CACZ,CAAC,CAAC;;;;;AAKH,OAAO,CAAC,SAAS,CAAC,GAAG,UAAU,KAAK,EAAE,QAAQ,EAAE;AAC9C,SAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;AAC5C,QAAI,CAAC,QAAQ,EAAE;AACb,aAAO,OAAO,EAAE,CAAC;KAClB;;AAED,QAAI,KAAK,GAAG,EAAE,CAAC;AACf,QAAI,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAErC,cAAU,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AAC7B,UAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClC,UAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACnB,eAAO,MAAM,CAAC,2BAA2B,GAAG,QAAQ,GAAG,2DAA2D,CAAC,CAAC;OACrH;AACD,UAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACzB,UAAI,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;AAC7B,WAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;KACpB,CAAC,CAAC;AACH,SAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAClB,WAAO,EAAE,CAAC;GACX,CAAC,CAAC;CACJ,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC","file":"orderbyParser-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n// ?$skip=10\n// ->\n// query.skip(10)\n\nexports['default'] = function (query, $orderby) {\n  return new Promise(function (resolve, reject) {\n    if (!$orderby) {\n      return resolve();\n    }\n\n    var order = {};\n    var orderbyArr = $orderby.split(',');\n\n    orderbyArr.map(function (item) {\n      var data = item.trim().split(' ');\n      if (data.length > 2) {\n        return reject('odata: Syntax error at \\'' + $orderby + '\\', it\\'s should be like \\'ReleaseDate asc, Rating desc\\'');\n      }\n      var key = data[0].trim();\n      var value = data[1] || 'asc';\n      order[key] = value;\n    });\n    query.sort(order);\n    resolve();\n  });\n};\n\nmodule.exports = exports['default'];"]}