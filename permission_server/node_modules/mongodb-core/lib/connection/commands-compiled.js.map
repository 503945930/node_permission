{"version":3,"sources":["commands.js"],"names":[],"mappings":"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","file":"commands-compiled.js","sourcesContent":["\"use strict\";\n\nvar f = require('util').format\n  , Long = require('bson').Long\n  , setProperty = require('./utils').setProperty\n  , getProperty = require('./utils').getProperty\n  , getSingleProperty = require('./utils').getSingleProperty;\n\n// Incrementing request id\nvar _requestId = 0;\n\n// Wire command operation ids\nvar OP_QUERY = 2004;\nvar OP_GETMORE = 2005;\nvar OP_KILL_CURSORS = 2007;\n\n// Query flags\nvar OPTS_NONE = 0;\nvar OPTS_TAILABLE_CURSOR = 2;\nvar OPTS_SLAVE = 4;\nvar OPTS_OPLOG_REPLAY = 8;\nvar OPTS_NO_CURSOR_TIMEOUT = 16;\nvar OPTS_AWAIT_DATA = 32;\nvar OPTS_EXHAUST = 64;\nvar OPTS_PARTIAL = 128;\n\n// Response flags\nvar CURSOR_NOT_FOUND = 0;\nvar QUERY_FAILURE = 2;\nvar SHARD_CONFIG_STALE = 4;\nvar AWAIT_CAPABLE = 8;\n\n/**************************************************************\n * QUERY\n **************************************************************/\nvar Query = function(bson, ns, query, options) {\n  var self = this;\n  // Basic options needed to be passed in\n  if(ns == null) throw new Error(\"ns must be specified for query\");\n  if(query == null) throw new Error(\"query must be specified for query\");\n\n  // Validate that we are not passing 0x00 in the colletion name\n  if(!!~ns.indexOf(\"\\x00\")) {\n    throw new Error(\"namespace cannot contain a null character\");\n  }\n\n  // Basic options\n  this.bson = bson;\n  this.ns = ns;\n  this.query = query;\n\n  // Ensure empty options\n  this.options = options || {};\n\n  // Additional options\n  this.numberToSkip = options.numberToSkip || 0;\n  this.numberToReturn = options.numberToReturn || 0;\n  this.returnFieldSelector = options.returnFieldSelector || null;  \n  this.requestId = _requestId++;\n\n  // Serialization option\n  this.serializeFunctions = typeof options.serializeFunctions == 'boolean' ? options.serializeFunctions : false;\n  this.maxBsonSize = options.maxBsonSize || 1024 * 1024 * 16;\n  this.checkKeys = typeof options.checkKeys == 'boolean' ? options.checkKeys : true;\n  this.batchSize = self.numberToReturn;\n\n  // Flags\n  this.tailable = false;\n  this.slaveOk = false;\n  this.oplogReply = false;\n  this.noCursorTimeout = false;\n  this.awaitData = false;\n  this.exhaust = false;\n  this.partial = false;\n}\n\n//\n// Assign a new request Id\nQuery.prototype.incRequestId = function() {\n  this.requestId = _requestId++;\n}\n\n//\n// Uses a single allocated buffer for the process, avoiding multiple memory allocations\nQuery.prototype.toBin = function() {\n  var self = this;\n  // Basic length\n  var length = 4 \n    + Buffer.byteLength(self.ns) \n    + 1 + 4 + 4 \n    + self.bson.calculateObjectSize(self.query, self.serializeFunctions, true) \n    + (4 * 4);\n\n  // Additional size for field selection\n  if(self.returnFieldSelector && Object.keys(self.returnFieldSelector).length > 0) {\n    length += self.bson.calculateObjectSize(self.returnFieldSelector, self.serializeFunctions, true);\n  }\n\n  // Allocate buffer for message\n  var _buffer = new Buffer(length);\n\n  // Set up the flags\n  var flags = 0;\n  if(this.tailable) flags |= OPTS_TAILABLE_CURSOR;\n  if(this.slaveOk) flags |= OPTS_SLAVE;\n  if(this.oplogReply) flags |= OPTS_OPLOG_REPLAY;\n  if(this.noCursorTimeout) flags |= OPTS_NO_CURSOR_TIMEOUT;\n  if(this.awaitData) flags |= OPTS_AWAIT_DATA;\n  if(this.exhaust) flags |= OPTS_EXHAUST;\n  if(this.partial) flags |= OPTS_PARTIAL;\n\n  // If batchSize is different to self.numberToReturn\n  if(self.batchSize != self.numberToReturn) self.numberToReturn = self.batchSize;\n\n  // Initial index\n  var index = 4;\n\n  // Write header information requestId\n  _buffer[index + 3] = (this.requestId >> 24) & 0xff;\n  _buffer[index + 2] = (this.requestId >> 16) & 0xff;\n  _buffer[index + 1] = (this.requestId >> 8) & 0xff;\n  _buffer[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // Write header information responseTo\n  _buffer[index + 3] = (0 >> 24) & 0xff;\n  _buffer[index + 2] = (0 >> 16) & 0xff;\n  _buffer[index + 1] = (0 >> 8) & 0xff;\n  _buffer[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Write header information OP_QUERY\n  _buffer[index + 3] = (OP_QUERY >> 24) & 0xff;\n  _buffer[index + 2] = (OP_QUERY >> 16) & 0xff;\n  _buffer[index + 1] = (OP_QUERY >> 8) & 0xff;\n  _buffer[index] = (OP_QUERY) & 0xff;\n  index = index + 4;\n\n  // Write header information flags\n  _buffer[index + 3] = (flags >> 24) & 0xff;\n  _buffer[index + 2] = (flags >> 16) & 0xff;\n  _buffer[index + 1] = (flags >> 8) & 0xff;\n  _buffer[index] = (flags) & 0xff;\n  index = index + 4;\n\n  // Write collection name\n  index = index + _buffer.write(this.ns, index, 'utf8') + 1;\n  _buffer[index - 1] = 0;\n\n  // Write header information flags numberToSkip\n  _buffer[index + 3] = (this.numberToSkip >> 24) & 0xff;\n  _buffer[index + 2] = (this.numberToSkip >> 16) & 0xff;\n  _buffer[index + 1] = (this.numberToSkip >> 8) & 0xff;\n  _buffer[index] = (this.numberToSkip) & 0xff;\n  index = index + 4;\n\n  // Write header information flags numberToReturn\n  _buffer[index + 3] = (this.numberToReturn >> 24) & 0xff;\n  _buffer[index + 2] = (this.numberToReturn >> 16) & 0xff;\n  _buffer[index + 1] = (this.numberToReturn >> 8) & 0xff;\n  _buffer[index] = (this.numberToReturn) & 0xff;\n  index = index + 4;\n\n  // Serialize query\n  var queryLength = this.bson.serializeWithBufferAndIndex(this.query\n    , this.checkKeys\n    , _buffer, index\n    , this.serializeFunctions) - index + 1;\n\n  // Write header information flags queryLength\n  _buffer[index + 3] = (queryLength >> 24) & 0xff;\n  _buffer[index + 2] = (queryLength >> 16) & 0xff;\n  _buffer[index + 1] = (queryLength >> 8) & 0xff;\n  _buffer[index] = (queryLength) & 0xff;\n  index = index + 4;\n\n  // Add to the index\n  index = index - 4 + queryLength;\n  _buffer[index + 1] = 0x00;\n  \n  // If we have field selectors\n  if(this.returnFieldSelector && Object.keys(this.returnFieldSelector).length > 0) {\n    var fieldSelectorLength = this.bson.serializeWithBufferAndIndex(this.returnFieldSelector\n      , this.checkKeys\n      , _buffer\n      , index\n      , this.serializeFunctions) - index + 1;\n\n    // Write header information flags fieldSelectorLength\n    _buffer[index + 3] = (fieldSelectorLength >> 24) & 0xff;\n    _buffer[index + 2] = (fieldSelectorLength >> 16) & 0xff;\n    _buffer[index + 1] = (fieldSelectorLength >> 8) & 0xff;\n    _buffer[index] = (fieldSelectorLength) & 0xff;\n    index = index + 4;\n\n    index = index - 4 + fieldSelectorLength;\n    _buffer[index + 1] = 0x00;\n  }\n\n  // Write total document length\n  _buffer[3] = (index >> 24) & 0xff;\n  _buffer[2] = (index >> 16) & 0xff;\n  _buffer[1] = (index >> 8) & 0xff;\n  _buffer[0] = (index) & 0xff;\n  // Return buffer\n  return _buffer;\n}\n\nQuery.getRequestId = function() {\n  return ++_requestId;\n}\n\n/**************************************************************\n * GETMORE\n **************************************************************/\nvar GetMore = function(bson, ns, cursorId, opts) {\n  opts = opts || {};\n  this.numberToReturn = opts.numberToReturn || 0;\n  this.requestId = _requestId++;\n  this.bson = bson;\n  this.ns = ns;\n  this.cursorId = cursorId;\n}\n\n//\n// Uses a single allocated buffer for the process, avoiding multiple memory allocations\nGetMore.prototype.toBin = function() {\n  var length = 4 + Buffer.byteLength(this.ns) + 1 + 4 + 8 + (4 * 4);\n  // Create command buffer\n  var index = 0;\n  // Allocate buffer\n  var _buffer = new Buffer(length);\n  \n  // Write header information\n  // index = write32bit(index, _buffer, length);\n  _buffer[index + 3] = (length >> 24) & 0xff;\n  _buffer[index + 2] = (length >> 16) & 0xff;\n  _buffer[index + 1] = (length >> 8) & 0xff;\n  _buffer[index] = (length) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, requestId);\n  _buffer[index + 3] = (this.requestId >> 24) & 0xff;\n  _buffer[index + 2] = (this.requestId >> 16) & 0xff;\n  _buffer[index + 1] = (this.requestId >> 8) & 0xff;\n  _buffer[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, 0);\n  _buffer[index + 3] = (0 >> 24) & 0xff;\n  _buffer[index + 2] = (0 >> 16) & 0xff;\n  _buffer[index + 1] = (0 >> 8) & 0xff;\n  _buffer[index] = (0) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, OP_GETMORE);\n  _buffer[index + 3] = (OP_GETMORE >> 24) & 0xff;\n  _buffer[index + 2] = (OP_GETMORE >> 16) & 0xff;\n  _buffer[index + 1] = (OP_GETMORE >> 8) & 0xff;\n  _buffer[index] = (OP_GETMORE) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, 0);\n  _buffer[index + 3] = (0 >> 24) & 0xff;\n  _buffer[index + 2] = (0 >> 16) & 0xff;\n  _buffer[index + 1] = (0 >> 8) & 0xff;\n  _buffer[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Write collection name\n  index = index + _buffer.write(this.ns, index, 'utf8') + 1;\n  _buffer[index - 1] = 0;\n\n  // Write batch size\n  // index = write32bit(index, _buffer, numberToReturn);\n  _buffer[index + 3] = (this.numberToReturn >> 24) & 0xff;\n  _buffer[index + 2] = (this.numberToReturn >> 16) & 0xff;\n  _buffer[index + 1] = (this.numberToReturn >> 8) & 0xff;\n  _buffer[index] = (this.numberToReturn) & 0xff;\n  index = index + 4;\n\n  // Write cursor id\n  // index = write32bit(index, _buffer, cursorId.getLowBits());\n  _buffer[index + 3] = (this.cursorId.getLowBits() >> 24) & 0xff;\n  _buffer[index + 2] = (this.cursorId.getLowBits() >> 16) & 0xff;\n  _buffer[index + 1] = (this.cursorId.getLowBits() >> 8) & 0xff;\n  _buffer[index] = (this.cursorId.getLowBits()) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, cursorId.getHighBits());\n  _buffer[index + 3] = (this.cursorId.getHighBits() >> 24) & 0xff;\n  _buffer[index + 2] = (this.cursorId.getHighBits() >> 16) & 0xff;\n  _buffer[index + 1] = (this.cursorId.getHighBits() >> 8) & 0xff;\n  _buffer[index] = (this.cursorId.getHighBits()) & 0xff;\n  index = index + 4;\n\n  // Return buffer\n  return _buffer;\n}\n\n/**************************************************************\n * KILLCURSOR\n **************************************************************/\nvar KillCursor = function(bson, cursorIds) {\n  this.requestId = _requestId++;\n  this.cursorIds = cursorIds;\n}\n\n//\n// Uses a single allocated buffer for the process, avoiding multiple memory allocations\nKillCursor.prototype.toBin = function() {\n  var length = 4 + 4 + (4 * 4) + (this.cursorIds.length * 8);\n\n  // Create command buffer\n  var index = 0;\n  var _buffer = new Buffer(length);\n\n  // Write header information\n  // index = write32bit(index, _buffer, length);\n  _buffer[index + 3] = (length >> 24) & 0xff;\n  _buffer[index + 2] = (length >> 16) & 0xff;\n  _buffer[index + 1] = (length >> 8) & 0xff;\n  _buffer[index] = (length) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, requestId);\n  _buffer[index + 3] = (this.requestId >> 24) & 0xff;\n  _buffer[index + 2] = (this.requestId >> 16) & 0xff;\n  _buffer[index + 1] = (this.requestId >> 8) & 0xff;\n  _buffer[index] = (this.requestId) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, 0);\n  _buffer[index + 3] = (0 >> 24) & 0xff;\n  _buffer[index + 2] = (0 >> 16) & 0xff;\n  _buffer[index + 1] = (0 >> 8) & 0xff;\n  _buffer[index] = (0) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, OP_KILL_CURSORS);\n  _buffer[index + 3] = (OP_KILL_CURSORS >> 24) & 0xff;\n  _buffer[index + 2] = (OP_KILL_CURSORS >> 16) & 0xff;\n  _buffer[index + 1] = (OP_KILL_CURSORS >> 8) & 0xff;\n  _buffer[index] = (OP_KILL_CURSORS) & 0xff;\n  index = index + 4;\n\n  // index = write32bit(index, _buffer, 0);\n  _buffer[index + 3] = (0 >> 24) & 0xff;\n  _buffer[index + 2] = (0 >> 16) & 0xff;\n  _buffer[index + 1] = (0 >> 8) & 0xff;\n  _buffer[index] = (0) & 0xff;\n  index = index + 4;\n\n  // Write batch size\n  // index = write32bit(index, _buffer, this.cursorIds.length);\n  _buffer[index + 3] = (this.cursorIds.length >> 24) & 0xff;\n  _buffer[index + 2] = (this.cursorIds.length >> 16) & 0xff;\n  _buffer[index + 1] = (this.cursorIds.length >> 8) & 0xff;\n  _buffer[index] = (this.cursorIds.length) & 0xff;\n  index = index + 4;\n\n  // Write all the cursor ids into the array\n  for(var i = 0; i < this.cursorIds.length; i++) {\n    // Write cursor id\n    // index = write32bit(index, _buffer, cursorIds[i].getLowBits());\n    _buffer[index + 3] = (this.cursorIds[i].getLowBits() >> 24) & 0xff;\n    _buffer[index + 2] = (this.cursorIds[i].getLowBits() >> 16) & 0xff;\n    _buffer[index + 1] = (this.cursorIds[i].getLowBits() >> 8) & 0xff;\n    _buffer[index] = (this.cursorIds[i].getLowBits()) & 0xff;\n    index = index + 4;\n\n    // index = write32bit(index, _buffer, cursorIds[i].getHighBits());\n    _buffer[index + 3] = (this.cursorIds[i].getHighBits() >> 24) & 0xff;\n    _buffer[index + 2] = (this.cursorIds[i].getHighBits() >> 16) & 0xff;\n    _buffer[index + 1] = (this.cursorIds[i].getHighBits() >> 8) & 0xff;\n    _buffer[index] = (this.cursorIds[i].getHighBits()) & 0xff;\n    index = index + 4;\n  }\n\n  // Return buffer\n  return _buffer;\n}\n\nvar Response = function(bson, data, opts) {\n  opts = opts || {promoteLongs: true};\n  this.parsed = false;\n\n  //\n  // Parse Header\n  //\n  this.index = 0;\n  this.raw = data;\n  this.data = data;\n  this.bson = bson;\n  this.opts = opts;\n\n  // Read the message length\n  this.length = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  \n  // Fetch the request id for this reply\n  this.requestId = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  \n  // Fetch the id of the request that triggered the response\n  this.responseTo = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n\n  // Skip op-code field\n  this.index = this.index + 4;\n  \n  // Unpack flags\n  this.responseFlags = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  \n  // Unpack the cursor\n  var lowBits = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  var highBits = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  // Create long object\n  this.cursorId = new Long(lowBits, highBits);\n  \n  // Unpack the starting from\n  this.startingFrom = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n  \n  // Unpack the number of objects returned\n  this.numberReturned = data[this.index] | data[this.index + 1] << 8 | data[this.index + 2] << 16 | data[this.index + 3] << 24;\n  this.index = this.index + 4;\n\n  // Preallocate document array\n  this.documents = new Array(this.numberReturned);\n\n  // Flag values\n  this.cursorNotFound = (this.responseFlags & CURSOR_NOT_FOUND) != 0;\n  this.queryFailure = (this.responseFlags & QUERY_FAILURE) != 0;\n  this.shardConfigStale = (this.responseFlags & SHARD_CONFIG_STALE) != 0;\n  this.awaitCapable = (this.responseFlags & AWAIT_CAPABLE) != 0;\n  this.promoteLongs = typeof opts.promoteLongs == 'boolean' ? opts.promoteLongs : true;\n}\n\nResponse.prototype.isParsed = function() {\n  return this.parsed;\n}\n\nResponse.prototype.parse = function(options) {\n  // Don't parse again if not needed\n  if(this.parsed) return;\n  options = options || {};\n  // Allow the return of raw documents instead of parsing\n  var raw = options.raw || false;\n\n  //\n  // Parse Body\n  //\n  for(var i = 0; i < this.numberReturned; i++) {\n    var bsonSize = this.data[this.index] | this.data[this.index + 1] << 8 | this.data[this.index + 2] << 16 | this.data[this.index + 3] << 24;\n    // Parse options\n    var _options = {promoteLongs: this.opts.promoteLongs};\n\n    // If we have raw results specified slice the return document\n    if(raw) {\n      this.documents[i] = this.data.slice(this.index, this.index + bsonSize);\n    } else {\n      this.documents[i] = this.bson.deserialize(this.data.slice(this.index, this.index + bsonSize), _options);\n    }\n\n    // Adjust the index\n    this.index = this.index + bsonSize;\n  }\n\n  // Set parsed\n  this.parsed = true;\n}\n\nmodule.exports = {\n    Query: Query\n  , GetMore: GetMore\n  , Response: Response\n  , KillCursor: KillCursor\n}"]}