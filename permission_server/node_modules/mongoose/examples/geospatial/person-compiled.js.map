{"version":3,"sources":["person.js"],"names":[],"mappings":";;;;AAEA,IAAI,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACpC,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;;;AAG7B,MAAM,CAAC,OAAO,GAAG,YAAW;;AAE1B,MAAI,YAAY,GAAG,IAAI,MAAM,CAAC;AAC5B,QAAI,EAAG,MAAM;AACb,OAAG,EAAG,MAAM;AACZ,YAAQ,EAAG,IAAI;AACf,UAAM,EAAE,MAAM;AACd,SAAK,EAAE,CAAC,MAAM,CAAC;;AAEf,OAAG,EAAE,EAAE,IAAI,EAAG,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;GACtC,CAAC,CAAC;;;AAGH,cAAY,CAAC,OAAO,CAAC,WAAW,GAAG,UAAS,EAAE,EAAE;AAC9C,WAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;AAC7B,SAAG,EAAG,EAAE,WAAW,EAAG,IAAI,CAAC,GAAG,EAAE;AAChC,UAAI,EAAG,EAAE,GAAG,EAAG,IAAI,CAAC,IAAI,EAAE;KAC3B,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACxB,CAAC;;AAEF,UAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;CACxC,CAAC","file":"person-compiled.js","sourcesContent":["\n// import the necessary modules\nvar mongoose = require('../../lib');\nvar Schema = mongoose.Schema;\n\n// create an export function to encapsulate the model creation\nmodule.exports = function() {\n  // define schema\n  var PersonSchema = new Schema({\n    name : String,\n    age : Number,\n    birthday : Date,\n    gender: String,\n    likes: [String],\n    // define the geospatial field\n    loc: { type : [Number], index: '2d' }\n  });\n\n  // define a method to find the closest person\n  PersonSchema.methods.findClosest = function(cb) {\n    return this.model('Person').find({ \n        loc : { $nearSphere : this.loc },\n        name : { $ne : this.name }\n      }).limit(1).exec(cb);\n  };\n\n  mongoose.model('Person', PersonSchema);\n};\n"]}