{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar Route = require('./route');\nvar Layer = require('./layer');\nvar methods = require('methods');\nvar mixin = require('utils-merge');\nvar debug = require('debug')('express:router');\nvar deprecate = require('depd')('express');\nvar parseUrl = require('parseurl');\nvar utils = require('../utils');\n\n/**\n * Module variables.\n */\n\nvar objectRegExp = /^\\[object (\\S+)\\]$/;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Initialize a new `Router` with the given `options`.\n *\n * @param {Object} options\n * @return {Router} which is an callable function\n * @api public\n */\n\nvar proto = module.exports = function(options) {\n  options = options || {};\n\n  function router(req, res, next) {\n    router.handle(req, res, next);\n  }\n\n  // mixin Router class functions\n  router.__proto__ = proto;\n\n  router.params = {};\n  router._params = [];\n  router.caseSensitive = options.caseSensitive;\n  router.mergeParams = options.mergeParams;\n  router.strict = options.strict;\n  router.stack = [];\n\n  return router;\n};\n\n/**\n * Map the given param placeholder `name`(s) to the given callback.\n *\n * Parameter mapping is used to provide pre-conditions to routes\n * which use normalized placeholders. For example a _:user_id_ parameter\n * could automatically load a user's information from the database without\n * any additional code,\n *\n * The callback uses the same signature as middleware, the only difference\n * being that the value of the placeholder is passed, in this case the _id_\n * of the user. Once the `next()` function is invoked, just like middleware\n * it will continue on to execute the route, or subsequent parameter functions.\n *\n * Just like in middleware, you must either respond to the request or call next\n * to avoid stalling the request.\n *\n *  app.param('user_id', function(req, res, next, id){\n *    User.find(id, function(err, user){\n *      if (err) {\n *        return next(err);\n *      } else if (!user) {\n *        return next(new Error('failed to load user'));\n *      }\n *      req.user = user;\n *      next();\n *    });\n *  });\n *\n * @param {String} name\n * @param {Function} fn\n * @return {app} for chaining\n * @api public\n */\n\nproto.param = function param(name, fn) {\n  // param logic\n  if (typeof name === 'function') {\n    deprecate('router.param(fn): Refactor to use path params');\n    this._params.push(name);\n    return;\n  }\n\n  // apply param functions\n  var params = this._params;\n  var len = params.length;\n  var ret;\n\n  if (name[0] === ':') {\n    deprecate('router.param(' + JSON.stringify(name) + ', fn): Use router.param(' + JSON.stringify(name.substr(1)) + ', fn) instead');\n    name = name.substr(1);\n  }\n\n  for (var i = 0; i < len; ++i) {\n    if (ret = params[i](name, fn)) {\n      fn = ret;\n    }\n  }\n\n  // ensure we end up with a\n  // middleware function\n  if ('function' != typeof fn) {\n    throw new Error('invalid param() call for ' + name + ', got ' + fn);\n  }\n\n  (this.params[name] = this.params[name] || []).push(fn);\n  return this;\n};\n\n/**\n * Dispatch a req, res into the router.\n *\n * @api private\n */\n\nproto.handle = function(req, res, done) {\n  var self = this;\n\n  debug('dispatching %s %s', req.method, req.url);\n\n  var search = 1 + req.url.indexOf('?');\n  var pathlength = search ? search - 1 : req.url.length;\n  var fqdn = req.url[0] !== '/' && 1 + req.url.substr(0, pathlength).indexOf('://');\n  var protohost = fqdn ? req.url.substr(0, req.url.indexOf('/', 2 + fqdn)) : '';\n  var idx = 0;\n  var removed = '';\n  var slashAdded = false;\n  var paramcalled = {};\n\n  // store options for OPTIONS request\n  // only used if OPTIONS request\n  var options = [];\n\n  // middleware and routes\n  var stack = self.stack;\n\n  // manage inter-router variables\n  var parentParams = req.params;\n  var parentUrl = req.baseUrl || '';\n  done = restore(done, req, 'baseUrl', 'next', 'params');\n\n  // setup next layer\n  req.next = next;\n\n  // for options requests, respond with a default if nothing else responds\n  if (req.method === 'OPTIONS') {\n    done = wrap(done, function(old, err) {\n      if (err || options.length === 0) return old(err);\n      sendOptionsResponse(res, options, old);\n    });\n  }\n\n  // setup basic req values\n  req.baseUrl = parentUrl;\n  req.originalUrl = req.originalUrl || req.url;\n\n  next();\n\n  function next(err) {\n    var layerError = err === 'route'\n      ? null\n      : err;\n\n    // remove added slash\n    if (slashAdded) {\n      req.url = req.url.substr(1);\n      slashAdded = false;\n    }\n\n    // restore altered req.url\n    if (removed.length !== 0) {\n      req.baseUrl = parentUrl;\n      req.url = protohost + removed + req.url.substr(protohost.length);\n      removed = '';\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      setImmediate(done, layerError);\n      return;\n    }\n\n    // get pathname of request\n    var path = getPathname(req);\n\n    if (path == null) {\n      return done(layerError);\n    }\n\n    // find next matching layer\n    var layer;\n    var match;\n    var route;\n\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++];\n      match = matchLayer(layer, path);\n      route = layer.route;\n\n      if (typeof match !== 'boolean') {\n        // hold on to layerError\n        layerError = layerError || match;\n      }\n\n      if (match !== true) {\n        continue;\n      }\n\n      if (!route) {\n        // process non-route handlers normally\n        continue;\n      }\n\n      if (layerError) {\n        // routes do not match with a pending error\n        match = false;\n        continue;\n      }\n\n      var method = req.method;\n      var has_method = route._handles_method(method);\n\n      // build up automatic options response\n      if (!has_method && method === 'OPTIONS') {\n        appendMethods(options, route._options());\n      }\n\n      // don't even bother matching route\n      if (!has_method && method !== 'HEAD') {\n        match = false;\n        continue;\n      }\n    }\n\n    // no match\n    if (match !== true) {\n      return done(layerError);\n    }\n\n    // store route for dispatch on change\n    if (route) {\n      req.route = route;\n    }\n\n    // Capture one-time layer values\n    req.params = self.mergeParams\n      ? mergeParams(layer.params, parentParams)\n      : layer.params;\n    var layerPath = layer.path;\n\n    // this should be done for the layer\n    self.process_params(layer, paramcalled, req, res, function (err) {\n      if (err) {\n        return next(layerError || err);\n      }\n\n      if (route) {\n        return layer.handle_request(req, res, next);\n      }\n\n      trim_prefix(layer, layerError, layerPath, path);\n    });\n  }\n\n  function trim_prefix(layer, layerError, layerPath, path) {\n    var c = path[layerPath.length];\n    if (c && '/' !== c && '.' !== c) return next(layerError);\n\n     // Trim off the part of the url that matches the route\n     // middleware (.use stuff) needs to have the path stripped\n    if (layerPath.length !== 0) {\n      debug('trim prefix (%s) from url %s', layerPath, req.url);\n      removed = layerPath;\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\n\n      // Ensure leading slash\n      if (!fqdn && req.url[0] !== '/') {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n\n      // Setup base URL (no trailing slash)\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === '/'\n        ? removed.substring(0, removed.length - 1)\n        : removed);\n    }\n\n    debug('%s %s : %s', layer.name, layerPath, req.originalUrl);\n\n    if (layerError) {\n      layer.handle_error(layerError, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n  }\n};\n\n/**\n * Process any parameters for the layer.\n *\n * @api private\n */\n\nproto.process_params = function(layer, called, req, res, done) {\n  var params = this.params;\n\n  // captured parameters from the layer, keys and values\n  var keys = layer.keys;\n\n  // fast track\n  if (!keys || keys.length === 0) {\n    return done();\n  }\n\n  var i = 0;\n  var name;\n  var paramIndex = 0;\n  var key;\n  var paramVal;\n  var paramCallbacks;\n  var paramCalled;\n\n  // process params in order\n  // param callbacks can be async\n  function param(err) {\n    if (err) {\n      return done(err);\n    }\n\n    if (i >= keys.length ) {\n      return done();\n    }\n\n    paramIndex = 0;\n    key = keys[i++];\n\n    if (!key) {\n      return done();\n    }\n\n    name = key.name;\n    paramVal = req.params[name];\n    paramCallbacks = params[name];\n    paramCalled = called[name];\n\n    if (paramVal === undefined || !paramCallbacks) {\n      return param();\n    }\n\n    // param previously called with same value or error occurred\n    if (paramCalled && (paramCalled.error || paramCalled.match === paramVal)) {\n      // restore value\n      req.params[name] = paramCalled.value;\n\n      // next param\n      return param(paramCalled.error);\n    }\n\n    called[name] = paramCalled = {\n      error: null,\n      match: paramVal,\n      value: paramVal\n    };\n\n    paramCallback();\n  }\n\n  // single param callbacks\n  function paramCallback(err) {\n    var fn = paramCallbacks[paramIndex++];\n\n    // store updated value\n    paramCalled.value = req.params[key.name];\n\n    if (err) {\n      // store error\n      paramCalled.error = err;\n      param(err);\n      return;\n    }\n\n    if (!fn) return param();\n\n    try {\n      fn(req, res, paramCallback, paramVal, key.name);\n    } catch (e) {\n      paramCallback(e);\n    }\n  }\n\n  param();\n};\n\n/**\n * Use the given middleware function, with optional path, defaulting to \"/\".\n *\n * Use (like `.all`) will run for any http METHOD, but it will not add\n * handlers for those methods so OPTIONS requests will not consider `.use`\n * functions even if they could respond.\n *\n * The other difference is that _route_ path is stripped and not visible\n * to the handler function. The main effect of this feature is that mounted\n * handlers can operate without any code changes regardless of the \"prefix\"\n * pathname.\n *\n * @api public\n */\n\nproto.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate router.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var callbacks = utils.flatten(slice.call(arguments, offset));\n\n  if (callbacks.length === 0) {\n    throw new TypeError('Router.use() requires middleware functions');\n  }\n\n  callbacks.forEach(function (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('Router.use() requires middleware function but got a ' + gettype(fn));\n    }\n\n    // add the middleware\n    debug('use %s %s', path, fn.name || '<anonymous>');\n\n    var layer = new Layer(path, {\n      sensitive: this.caseSensitive,\n      strict: false,\n      end: false\n    }, fn);\n\n    layer.route = undefined;\n\n    this.stack.push(layer);\n  }, this);\n\n  return this;\n};\n\n/**\n * Create a new Route for the given path.\n *\n * Each route contains a separate middleware stack and VERB handlers.\n *\n * See the Route api documentation for details on adding handlers\n * and middleware to routes.\n *\n * @param {String} path\n * @return {Route}\n * @api public\n */\n\nproto.route = function(path){\n  var route = new Route(path);\n\n  var layer = new Layer(path, {\n    sensitive: this.caseSensitive,\n    strict: this.strict,\n    end: true\n  }, route.dispatch.bind(route));\n\n  layer.route = route;\n\n  this.stack.push(layer);\n  return route;\n};\n\n// create Router#VERB functions\nmethods.concat('all').forEach(function(method){\n  proto[method] = function(path){\n    var route = this.route(path)\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n// append methods to a list of methods\nfunction appendMethods(list, addition) {\n  for (var i = 0; i < addition.length; i++) {\n    var method = addition[i];\n    if (list.indexOf(method) === -1) {\n      list.push(method);\n    }\n  }\n}\n\n// get pathname of request\nfunction getPathname(req) {\n  try {\n    return parseUrl(req).pathname;\n  } catch (err) {\n    return undefined;\n  }\n}\n\n// get type for error message\nfunction gettype(obj) {\n  var type = typeof obj;\n\n  if (type !== 'object') {\n    return type;\n  }\n\n  // inspect [[Class]] for objects\n  return toString.call(obj)\n    .replace(objectRegExp, '$1');\n}\n\n/**\n * Match path to a layer.\n *\n * @param {Layer} layer\n * @param {string} path\n * @private\n */\n\nfunction matchLayer(layer, path) {\n  try {\n    return layer.match(path);\n  } catch (err) {\n    return err;\n  }\n}\n\n// merge params with parent params\nfunction mergeParams(params, parent) {\n  if (typeof parent !== 'object' || !parent) {\n    return params;\n  }\n\n  // make copy of parent for base\n  var obj = mixin({}, parent);\n\n  // simple non-numeric merging\n  if (!(0 in params) || !(0 in parent)) {\n    return mixin(obj, params);\n  }\n\n  var i = 0;\n  var o = 0;\n\n  // determine numeric gaps\n  while (i === o || o in parent) {\n    if (i in params) i++;\n    if (o in parent) o++;\n  }\n\n  // offset numeric indices in params before merge\n  for (i--; i >= 0; i--) {\n    params[i + o] = params[i];\n\n    // create holes for the merge when necessary\n    if (i < o) {\n      delete params[i];\n    }\n  }\n\n  return mixin(parent, params);\n}\n\n// restore obj props after function\nfunction restore(fn, obj) {\n  var props = new Array(arguments.length - 2);\n  var vals = new Array(arguments.length - 2);\n\n  for (var i = 0; i < props.length; i++) {\n    props[i] = arguments[i + 2];\n    vals[i] = obj[props[i]];\n  }\n\n  return function(err){\n    // restore vals\n    for (var i = 0; i < props.length; i++) {\n      obj[props[i]] = vals[i];\n    }\n\n    return fn.apply(this, arguments);\n  };\n}\n\n// send an OPTIONS response\nfunction sendOptionsResponse(res, options, next) {\n  try {\n    var body = options.join(',');\n    res.set('Allow', body);\n    res.send(body);\n  } catch (err) {\n    next(err);\n  }\n}\n\n// wrap a function\nfunction wrap(old, fn) {\n  return function proxy() {\n    var args = new Array(arguments.length + 1);\n\n    args[0] = old;\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      args[i + 1] = arguments[i];\n    }\n\n    fn.apply(this, args);\n  };\n}\n"]}