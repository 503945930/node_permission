{"version":3,"sources":["stringify.js"],"names":[],"mappings":"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","file":"stringify-compiled.js","sourcesContent":["// Load modules\n\nvar Utils = require('./utils');\n\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function (prefix, key) {\n            return prefix + '[]';\n        },\n        indices: function (prefix, key) {\n            return prefix + '[' + key + ']';\n        },\n        repeat: function (prefix, key) {\n            return prefix;\n        }\n    }\n};\n\n\ninternals.stringify = function (obj, prefix, generateArrayPrefix) {\n\n    if (Utils.isBuffer(obj)) {\n        obj = obj.toString();\n    }\n    else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    }\n    else if (obj === null) {\n        obj = '';\n    }\n\n    if (typeof obj === 'string' ||\n        typeof obj === 'number' ||\n        typeof obj === 'boolean') {\n\n        return [encodeURIComponent(prefix) + '=' + encodeURIComponent(obj)];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys = Object.keys(obj);\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix));\n        }\n        else {\n            values = values.concat(internals.stringify(obj[key], prefix + '[' + key + ']', generateArrayPrefix));\n        }\n    }\n\n    return values;\n};\n\n\nmodule.exports = function (obj, options) {\n\n    options = options || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n\n    var keys = [];\n\n    if (typeof obj !== 'object' ||\n        obj === null) {\n\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    }\n    else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    var objKeys = Object.keys(obj);\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix));\n    }\n\n    return keys.join(delimiter);\n};\n"]}